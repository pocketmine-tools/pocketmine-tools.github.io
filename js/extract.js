!function(){var a;function b(){for(var a=0;a<arguments.length;a++)document.getElementById(arguments[a]).style.display="block"}function c(){for(var a=0;a<arguments.length;a++)document.getElementById(arguments[a]).style.display="none"}document.getElementById("extract-phar").onsubmit=function(d){d.preventDefault(),function(e){c("converted","error.corrupted","error.file-format","error.reading");var g,h,f=e.files[0],a=f.name,d=new FileReader;if(".phar"==a.substring(a.length-5,a.length))d.onload=(g=f,function(c){try{var d=PharUtils.PharZipConverter.toZip(new PharUtils.Phar().loadPharData(new Uint8Array(c.target.result))).compress(),a=g.name;a=a.substring(0,a.length-5)+".zip",saveAs(new Blob([d],{type:"application/zip"}),a),b("converted")}catch(e){b("error.corrupted"),console.error(e)}});else if(".zip"==a.substring(a.length-4,a.length))d.onload=(h=f,function(c){try{var d=PharUtils.PharZipConverter.toPhar(new Uint8Array(c.target.result)).savePharData(!0),a=h.name;a=a.substring(0,a.length-4)+".phar",saveAs(new Blob([d],{type:"application/x-php"}),a),b("converted")}catch(e){b("error.corrupted"),console.error(e)}});else{b("error.file-format"),e.value="";return}d.onerror=function(a){b("error.reading")},d.onloadend=function(a){b("upload"),c("converting")},c("upload"),b("converting"),d.readAsArrayBuffer(e.files[0]),e.value=""}(a)}}()
